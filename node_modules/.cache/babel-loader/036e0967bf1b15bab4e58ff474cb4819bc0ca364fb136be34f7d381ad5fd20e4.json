{"ast":null,"code":"export default {\n  data() {\n    return {\n      speedruns: {}\n    };\n  },\n  async mounted() {\n    this.getSpeedruns();\n  },\n  methods: {\n    async getSpeedruns() {\n      const url = \"https://3dec7zyj.lc-cn-n1-shared.com/1.1/classes/Speedrun\";\n      const headers = new Headers({\n        \"X-LC-Id\": \"3Dec7Zyj4zLNDU0XukGcAYEk-gzGzoHsz\",\n        \"X-LC-Key\": \"uHF3AdKD4i3RqZB7w1APiFRF\",\n        \"Content-Type\": \"application/json\"\n      });\n      const options = {\n        method: \"GET\",\n        headers: headers\n      };\n      const response = await fetch(url, options);\n      //console.log(await response.json());\n      this.speedruns = (await response.json()).results;\n      this.speedruns.forEach(speedrun => {\n        switch (speedrun.VideoPlatform) {\n          case \"哔哩哔哩\":\n            speedrun.VideoURL = \"https://www.bilibili.com/video/\";\n            speedrun.PlayerURL = \"https://space.bilibili.com/${speedrunResponse.results[i].UID}\";\n            break;\n          default:\n            speedrun.VideoURL = \"https://www.bilibili.com/video/\";\n            speedrun.PlayerURL = \"https://space.bilibili.com/${speedrunResponse.results[i].UID}\";\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","speedruns","mounted","getSpeedruns","methods","url","headers","Headers","options","method","response","fetch","json","results","forEach","speedrun","VideoPlatform","VideoURL","PlayerURL"],"sources":["src/views/LeaderboardView.vue"],"sourcesContent":["<template>\r\n    <div class=\"leaderboard\">\r\n        <el-table\r\n        v-bind:data=\"speedruns\"\r\n        border\r\n        style=\"width: 100%\">\r\n            <el-table-column\r\n            prop=\"Player\"\r\n            label=\"玩家\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"Platform\"\r\n            label=\"平台\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"Time\"\r\n            label=\"时间\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            label=\"视频地址\">\r\n            <template slot-scope=\"scope\">\r\n                <a v-bind:href=\"scope.row.VID\">{{scope.row.VideoURL}}</a>\r\n            </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <p>{{ speedruns }}</p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n    data(){\r\n        return{\r\n            speedruns:{}\r\n        }\r\n    },\r\n    async mounted(){\r\n        this.getSpeedruns();\r\n    },\r\n    methods: {\r\n        async getSpeedruns(){\r\n            const url = \"https://3dec7zyj.lc-cn-n1-shared.com/1.1/classes/Speedrun\";\r\n            const headers = new Headers({\r\n                \"X-LC-Id\": \"3Dec7Zyj4zLNDU0XukGcAYEk-gzGzoHsz\",\r\n                \"X-LC-Key\": \"uHF3AdKD4i3RqZB7w1APiFRF\",\r\n                \"Content-Type\":\"application/json\"});\r\n            const options = {\r\n                method:\"GET\",\r\n                headers:headers};\r\n            const response = await fetch(url,options);\r\n            //console.log(await response.json());\r\n            this.speedruns=(await response.json()).results;\r\n            this.speedruns.forEach(speedrun =>{\r\n                switch (speedrun.VideoPlatform) {\r\n                    case \"哔哩哔哩\": \r\n                    speedrun.VideoURL = \"https://www.bilibili.com/video/\";\r\n                    speedrun.PlayerURL = \"https://space.bilibili.com/${speedrunResponse.results[i].UID}\";\r\n                        break;\r\n                \r\n                    default:\r\n                    speedrun.VideoURL = \"https://www.bilibili.com/video/\";\r\n                    speedrun.PlayerURL = \"https://space.bilibili.com/${speedrunResponse.results[i].UID}\";\r\n                }\r\n            })\r\n            \r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"AA8BA;EACAA,KAAA;IACA;MACAC,SAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,KAAAC,YAAA;EACA;EACAC,OAAA;IACA,MAAAD,aAAA;MACA,MAAAE,GAAA;MACA,MAAAC,OAAA,OAAAC,OAAA;QACA;QACA;QACA;MAAA;MACA,MAAAC,OAAA;QACAC,MAAA;QACAH,OAAA,EAAAA;MAAA;MACA,MAAAI,QAAA,SAAAC,KAAA,CAAAN,GAAA,EAAAG,OAAA;MACA;MACA,KAAAP,SAAA,UAAAS,QAAA,CAAAE,IAAA,IAAAC,OAAA;MACA,KAAAZ,SAAA,CAAAa,OAAA,CAAAC,QAAA;QACA,QAAAA,QAAA,CAAAC,aAAA;UACA;YACAD,QAAA,CAAAE,QAAA;YACAF,QAAA,CAAAG,SAAA;YACA;UAEA;YACAH,QAAA,CAAAE,QAAA;YACAF,QAAA,CAAAG,SAAA;QACA;MACA;IAEA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}