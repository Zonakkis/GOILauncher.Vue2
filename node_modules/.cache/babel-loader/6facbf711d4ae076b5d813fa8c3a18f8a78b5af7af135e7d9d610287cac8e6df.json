{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  data() {\n    return {\n      maps: [],\n      searchMapName: \"\",\n      form: \"不限\",\n      forms: [\"不限\", \"原创\", \"移植\"],\n      style: \"不限\",\n      styles: [\"不限\", \"挑战\", \"休闲\"],\n      difficulty: \"不限\",\n      difficulties: [\"不限\", \"简单\", \"中等\", \"困难\", \"极难\", \"地狱\"]\n    };\n  },\n  computed: {\n    filteredMaps() {\n      console.log(\"change\");\n      return this.maps.filter(map => (map.Name.toLowerCase().includes(this.searchMapName.toLowerCase()) || map.Author.toLowerCase().includes(this.searchMapName.toLowerCase())) && (this.form === \"不限\" || map.Form.toLowerCase().includes(this.form.toLowerCase())) && (this.style === \"不限\" || map.Style.toLowerCase().includes(this.style.toLowerCase())) && (this.difficulty === \"不限\" || map.Difficulty.toLowerCase().includes(this.difficulty.toLowerCase())));\n    }\n  },\n  mounted() {\n    this.getSpeedruns();\n  },\n  methods: {\n    async getSpeedruns() {\n      const headers = new Headers({\n        \"X-LC-Id\": \"3Dec7Zyj4zLNDU0XukGcAYEk-gzGzoHsz\",\n        \"X-LC-Key\": \"uHF3AdKD4i3RqZB7w1APiFRF\",\n        \"Content-Type\": \"application/json\"\n      });\n      const options = {\n        method: \"GET\",\n        headers: headers\n      };\n      let params = {\n        order: \"Name\",\n        keys: \"Name,Author,URL,Size,Form,Style,Difficulty,Preview,-createdAt,-updatedAt,-objectId\"\n        //where: JSON.stringify(where),\n      };\n      const url = `https://3dec7zyj.lc-cn-n1-shared.com/1.1/classes/Map?${new URLSearchParams(params)}`;\n      const response = await fetch(url, options);\n      this.maps = (await response.json()).results;\n    }\n  }\n};","map":{"version":3,"names":["data","maps","searchMapName","form","forms","style","styles","difficulty","difficulties","computed","filteredMaps","console","log","filter","map","Name","toLowerCase","includes","Author","Form","Style","Difficulty","mounted","getSpeedruns","methods","headers","Headers","options","method","params","order","keys","url","URLSearchParams","response","fetch","json","results"],"sources":["src/views/MapView.vue"],"sourcesContent":["<template>\r\n  <div class=\"map\">\r\n    <el-row type=\"flex\" justify=\"center\" align=\"middle\">\r\n      <el-col :span=\"1\">搜索:</el-col>\r\n      <el-col :span=\"4\">\r\n        <el-input\r\n          class=\"input\"\r\n          placeholder=\"请输入地图名或作者名\"\r\n          v-model=\"searchMapName\"\r\n        >\r\n        </el-input>\r\n      </el-col>\r\n      <el-col :span=\"1\">类型:</el-col>\r\n      <el-col :span=\"4\">\r\n        <el-select v-model=\"form\">\r\n          <el-option\r\n            v-for=\"form in forms\"\r\n            :key=\"form\"\r\n            :label=\"form\"\r\n            :value=\"form\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n      <el-col :span=\"1\">风格:</el-col>\r\n      <el-col :span=\"4\">\r\n        <el-select v-model=\"style\">\r\n          <el-option\r\n            v-for=\"style in styles\"\r\n            :key=\"style\"\r\n            :label=\"style\"\r\n            :value=\"style\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n      <el-col :span=\"1\">难度:</el-col>\r\n      <el-col :span=\"4\">\r\n        <el-select v-model=\"difficulty\">\r\n          <el-option\r\n            v-for=\"difficulty in difficulties\"\r\n            :key=\"difficulty\"\r\n            :label=\"difficulty\"\r\n            :value=\"difficulty\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n    </el-row>\r\n    <el-divider></el-divider>\r\n    <el-table\r\n      class=\"table\"\r\n      stripe\r\n      :data=\"filteredMaps\"\r\n      :row-style=\"{ height: '65px' }\"\r\n    >\r\n      <el-table-column width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link type=\"primary\" :href=\"scope.row.URL\">下载</el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"名称\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover\r\n            class=\"popover\"\r\n            v-if=\"scope.row.Preview != ''\"\r\n            placement=\"top-start\"\r\n            trigger=\"hover\"\r\n            width=\"600\"\r\n          >\r\n            <el-image\r\n              class=\"image\"\r\n              :src=\"scope.row.Preview\"\r\n              :fit=\"scale - down\"\r\n            ></el-image>\r\n            <el-button slot=\"reference\" type=\"text\">\r\n              {{ scope.row.Name }}\r\n            </el-button>\r\n          </el-popover>\r\n          <a v-else>{{ scope.row.Name }}</a>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"作者\">\r\n        <template slot-scope=\"scope\">{{ scope.row.Author }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"大小\">\r\n        <template slot-scope=\"scope\">{{ scope.row.Size }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"类型\">\r\n        <template slot-scope=\"scope\">{{ scope.row.Form }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"风格\">\r\n        <template slot-scope=\"scope\">{{ scope.row.Style }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"难度\">\r\n        <template slot-scope=\"scope\">{{ scope.row.Difficulty }}</template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      maps: [],\r\n      searchMapName: \"\",\r\n      form: \"不限\",\r\n      forms: [\"不限\", \"原创\", \"移植\"],\r\n      style: \"不限\",\r\n      styles: [\"不限\", \"挑战\", \"休闲\"],\r\n      difficulty: \"不限\",\r\n      difficulties: [\"不限\", \"简单\", \"中等\", \"困难\", \"极难\", \"地狱\"],\r\n    };\r\n  },\r\n  computed: {\r\n    filteredMaps() {\r\n      console.log(\"change\");\r\n      return this.maps.filter(\r\n        (map) =>\r\n          (map.Name.toLowerCase().includes(this.searchMapName.toLowerCase()) ||\r\n            map.Author.toLowerCase().includes(\r\n              this.searchMapName.toLowerCase()\r\n            )) &&\r\n          (this.form === \"不限\" ||\r\n            map.Form.toLowerCase().includes(this.form.toLowerCase())) &&\r\n          (this.style === \"不限\" ||\r\n            map.Style.toLowerCase().includes(this.style.toLowerCase())) &&\r\n          (this.difficulty === \"不限\" ||\r\n            map.Difficulty.toLowerCase().includes(\r\n              this.difficulty.toLowerCase()\r\n            ))\r\n      );\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getSpeedruns();\r\n  },\r\n  methods: {\r\n    async getSpeedruns() {\r\n      const headers = new Headers({\r\n        \"X-LC-Id\": \"3Dec7Zyj4zLNDU0XukGcAYEk-gzGzoHsz\",\r\n        \"X-LC-Key\": \"uHF3AdKD4i3RqZB7w1APiFRF\",\r\n        \"Content-Type\": \"application/json\",\r\n      });\r\n      const options = {\r\n        method: \"GET\",\r\n        headers: headers,\r\n      };\r\n      let params = {\r\n        order: \"Name\",\r\n        keys: \"Name,Author,URL,Size,Form,Style,Difficulty,Preview,-createdAt,-updatedAt,-objectId\",\r\n        //where: JSON.stringify(where),\r\n      };\r\n      const url = `https://3dec7zyj.lc-cn-n1-shared.com/1.1/classes/Map?${new URLSearchParams(\r\n        params\r\n      )}`;\r\n      const response = await fetch(url, options);\r\n      this.maps = (await response.json()).results;\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n    <style scoped>\r\n.map {\r\n  text-align: left;\r\n}\r\n.table {\r\n  width: 100%;\r\n}\r\n.input {\r\n  width: auto;\r\n}\r\n</style>"],"mappings":";;;AAsGA;EACAA,KAAA;IACA;MACAC,IAAA;MACAC,aAAA;MACAC,IAAA;MACAC,KAAA;MACAC,KAAA;MACAC,MAAA;MACAC,UAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACAC,aAAA;MACAC,OAAA,CAAAC,GAAA;MACA,YAAAX,IAAA,CAAAY,MAAA,CACAC,GAAA,IACA,CAAAA,GAAA,CAAAC,IAAA,CAAAC,WAAA,GAAAC,QAAA,MAAAf,aAAA,CAAAc,WAAA,OACAF,GAAA,CAAAI,MAAA,CAAAF,WAAA,GAAAC,QAAA,CACA,KAAAf,aAAA,CAAAc,WAAA,EACA,OACA,KAAAb,IAAA,aACAW,GAAA,CAAAK,IAAA,CAAAH,WAAA,GAAAC,QAAA,MAAAd,IAAA,CAAAa,WAAA,SACA,KAAAX,KAAA,aACAS,GAAA,CAAAM,KAAA,CAAAJ,WAAA,GAAAC,QAAA,MAAAZ,KAAA,CAAAW,WAAA,SACA,KAAAT,UAAA,aACAO,GAAA,CAAAO,UAAA,CAAAL,WAAA,GAAAC,QAAA,CACA,KAAAV,UAAA,CAAAS,WAAA,EACA,EACA;IACA;EACA;EACAM,QAAA;IACA,KAAAC,YAAA;EACA;EACAC,OAAA;IACA,MAAAD,aAAA;MACA,MAAAE,OAAA,OAAAC,OAAA;QACA;QACA;QACA;MACA;MACA,MAAAC,OAAA;QACAC,MAAA;QACAH,OAAA,EAAAA;MACA;MACA,IAAAI,MAAA;QACAC,KAAA;QACAC,IAAA;QACA;MACA;MACA,MAAAC,GAAA,+DAAAC,eAAA,CACAJ,MACA;MACA,MAAAK,QAAA,SAAAC,KAAA,CAAAH,GAAA,EAAAL,OAAA;MACA,KAAA1B,IAAA,UAAAiC,QAAA,CAAAE,IAAA,IAAAC,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}