"use strict";(self["webpackChunkgoilauncher"]=self["webpackChunkgoilauncher"]||[]).push([[7],{2007:function(e,t,l){l.r(t),l.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"leaderboard"},[t("div",{staticClass:"filter"},[t("div",{staticClass:"top-space"},[e._v(" 国家： "),t("el-select",{model:{value:e.countryCode,callback:function(t){e.countryCode=t},expression:"countryCode"}},e._l(e.countries,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v("     "),t("div",{staticClass:"top-space"},[e._v(" 模式： "),t("el-select",{model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.categories,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),e._v("     "),t("div",{staticClass:"top-space"},[e._v(" 游戏平台： "),t("el-select",{model:{value:e.platform,callback:function(t){e.platform=t},expression:"platform"}},e._l(e.platforms,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v("     "),t("div",{staticClass:"top-space"},[e._v(" 仅显示玩家不同平台最好成绩  "),t("el-switch",{model:{value:e.onlyShowBest,callback:function(t){e.onlyShowBest=t},expression:"onlyShowBest"}})],1),e._v("     ")]),t("el-divider"),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table",attrs:{stripe:"",data:e.filteredSpeedruns,width:"100%"}},[t("el-table-column",{attrs:{label:"排名","min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),t("el-table-column",{attrs:{label:"玩家","min-width":"235px"},scopedSlots:e._u([{key:"default",fn:function(l){return["无"!=l.row.Country?t("el-tooltip",{attrs:{content:l.row.Country,placement:"top"}},[t("el-image",{staticClass:"flags",attrs:{src:`https://www.speedrun.com/images/flags/${l.row.CountryCode}.png`,lazy:""}})],1):e._e(),t("el-link",{staticClass:"player",attrs:{href:l.row.PlayerURL,target:"_blank"}},[e._v(e._s(l.row.Player))])]}}])}),t("el-table-column",{attrs:{prop:"Platform",label:"游戏平台",align:"center","min-width":"80"}}),t("el-table-column",{attrs:{prop:"Time",label:"时间","min-width":"150px"}}),t("el-table-column",{attrs:{label:"视频地址","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-link",{attrs:{href:l.row.VideoURL,target:"_blank"}},[e._v(e._s(l.row.VideoPlatform))])]}}])})],1)],1)},o=[],s=(l(4114),l(4603),l(7566),l(8721),{data(){return{speedruns:[],countries:[{value:"不限",label:"不限"},{value:"cn",label:"中国"}],countryCode:"cn",platforms:[{value:"不限",label:"不限"},{value:"PC",label:"PC"},{value:"Android",label:"安卓"},{value:"iOS",label:"iOS"}],platform:"不限",categories:["Glitchless","Snake"],category:"Glitchless",onlyShowBest:!0,loading:!0}},computed:{filteredSpeedruns(){return this.speedruns.filter((e=>("不限"===this.countryCode||e.CountryCode===this.countryCode)&&("不限"===this.platform||e.Platform===this.platform)&&("不限"===this.category||e.Category===this.category)&&(!this.onlyShowBest||"不限"!=this.platform||e.Fastest)))}},mounted(){this.getSpeedruns()},methods:{async getSpeedruns(){const e=new Headers({"X-LC-Id":"3Dec7Zyj4zLNDU0XukGcAYEk-gzGzoHsz","X-LC-Key":"uHF3AdKD4i3RqZB7w1APiFRF","Content-Type":"application/json"}),t={method:"GET",headers:e};let l={order:"TotalTime",keys:"Player,Category,UID,TotalTime,Platform,Time,VideoPlatform,VID,Country,CountryCode,Fastest,-createdAt,-updatedAt,-objectId",limit:1e3};const a=`https://3dec7zyj.lc-cn-n1-shared.com/1.1/classes/Speedrun?${new URLSearchParams(l)}`,o=await fetch(a,t);this.speedruns=(await o.json()).results,this.speedruns.forEach((e=>{switch(e.VideoPlatform){case"哔哩哔哩":e.VideoURL=`https://www.bilibili.com/video/${e.VID}`,e.PlayerURL=`https://space.bilibili.com/${e.UID}`;break;case"YouTube":e.VideoURL=`https://www.youtube.com/watch?v=${e.VID}`,e.PlayerURL=`https://www.youtube.com/channel/${e.UID}`;break;case"Twitch":e.VideoURL=`https://www.twitch.tv/videos/${e.VID}`,e.PlayerURL=`https://www.twitch.tv/${e.UID}`;break;default:break}this.countries.some((t=>t.value===e.CountryCode))||"无"===e.CountryCode||this.countries.push({value:e.CountryCode,label:e.Country})})),this.loading=!1}}}),r=s,n=l(1656),i=(0,n.A)(r,a,o,!1,null,"1a57e24c",null),c=i.exports}}]);
//# sourceMappingURL=7.0139a965.js.map