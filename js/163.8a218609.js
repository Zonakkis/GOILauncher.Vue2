"use strict";(self["webpackChunkgoilauncher"]=self["webpackChunkgoilauncher"]||[]).push([[163],{4163:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pendingrun"},[t("el-container",[t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.speedruns}},[t("el-table-column",{attrs:{label:"玩家","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{attrs:{content:a.row.Country,placement:"top"}},[t("el-image",{staticClass:"flags",staticStyle:{width:"18px",display:"inline-flex","justify-content":"center","text-align":"center",margin:"5px"},attrs:{src:`https://www.speedrun.com/images/flags/${a.row.CountryCode}.png`}})],1),e._v(e._s(a.row.Player)+" ")]}}])}),t("el-table-column",{attrs:{prop:"Category",label:"模式","min-width":"85"}}),t("el-table-column",{attrs:{prop:"Platform",label:"游戏平台"}}),t("el-table-column",{attrs:{prop:"Time",label:"时间","min-width":"100"}}),t("el-table-column",{attrs:{label:"视频地址"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-link",{attrs:{href:a.row.VideoURL,target:"_blank"}},[e._v(e._s(a.row.VideoPlatform))])]}}])})],1)],1)],1)},n=[],l=(a(4603),a(7566),a(8721),{data(){return{speedruns:[],countries:new Map([["cn","中国"],["us","美国"],["in","印度"]])}},created(){window.addEventListener("resize",this.freshTable)},mounted(){this.getSpeedruns()},methods:{async getSpeedruns(){const e=new Headers({"X-LC-Id":"3Dec7Zyj4zLNDU0XukGcAYEk-gzGzoHsz","X-LC-Key":"uHF3AdKD4i3RqZB7w1APiFRF","Content-Type":"application/json"}),t={method:"GET",headers:e};let a={keys:"Player,UID,Category,TotalTime,Platform,Time,VideoPlatform,VID,CountryCode,-createdAt,-updatedAt,-objectId"};const s="https://3dec7zyj.lc-cn-n1-shared.com/1.1/classes/PendingRun?"+new URLSearchParams(a),n=await fetch(s,t);this.speedruns=(await n.json()).results,this.speedruns.forEach((e=>{switch(e.Country=this.countries.get(e.CountryCode),e.VideoPlatform){case"哔哩哔哩":e.VideoURL=`https://www.bilibili.com/video/${e.VID}`,e.PlayerURL=`https://space.bilibili.com/${e.UID}`;break;case"YouTube":e.VideoURL=`https://www.youtube.com/watch?v=${e.VID}`,e.PlayerURL=`https://www.youtube.com/@${e.UID}`;break;default:break}}))},freshTable(){this.$nextTick((()=>{this.$refs.table.doLayout()}))}}}),r=l,o=a(1656),i=(0,o.A)(r,s,n,!1,null,null,null),c=i.exports}}]);
//# sourceMappingURL=163.8a218609.js.map